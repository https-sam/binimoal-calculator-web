{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseConfiguration = exports.BaseTags = exports.Other = void 0;\n\nvar Configuration_js_1 = require(\"../Configuration.js\");\n\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\n\nvar TexError_js_1 = require(\"../TexError.js\");\n\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\n\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\n\nvar bitem = require(\"./BaseItems.js\");\n\nvar Tags_js_1 = require(\"../Tags.js\");\n\nrequire(\"./BaseMappings.js\");\n\nvar OperatorDictionary_js_1 = require(\"../../../core/MmlTree/OperatorDictionary.js\");\n\nnew SymbolMap_js_1.CharacterMap('remap', null, {\n  '-': '\\u2212',\n  '*': '\\u2217',\n  '`': '\\u2018'\n});\n\nfunction Other(parser, char) {\n  var font = parser.stack.env['font'];\n  var def = font ? {\n    mathvariant: parser.stack.env['font']\n  } : {};\n  var remap = MapHandler_js_1.MapHandler.getMap('remap').lookup(char);\n  var range = OperatorDictionary_js_1.getRange(char);\n  var type = range ? range[3] : 'mo';\n  var mo = parser.create('token', type, def, remap ? remap.char : char);\n\n  if (type === 'mo') {\n    NodeUtil_js_1.default.setProperty(mo, 'fixStretchy', true);\n    parser.configuration.addNode('fixStretchy', mo);\n  }\n\n  parser.Push(mo);\n}\n\nexports.Other = Other;\n\nfunction csUndefined(_parser, name) {\n  throw new TexError_js_1.default('UndefinedControlSequence', 'Undefined control sequence %1', '\\\\' + name);\n}\n\nfunction envUndefined(_parser, env) {\n  throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\n\nfunction filterNonscript(_a) {\n  var e_1, _b;\n\n  var data = _a.data;\n\n  try {\n    for (var _c = __values(data.getList('nonscript')), _d = _c.next(); !_d.done; _d = _c.next()) {\n      var mml = _d.value;\n\n      if (mml.attributes.get('scriptlevel') > 0) {\n        var parent_1 = mml.parent;\n        parent_1.childNodes.splice(parent_1.childIndex(mml), 1);\n        data.removeFromList(mml.kind, [mml]);\n\n        if (mml.isKind('mrow')) {\n          var mstyle = mml.childNodes[0];\n          data.removeFromList('mstyle', [mstyle]);\n          data.removeFromList('mspace', mstyle.childNodes[0].childNodes);\n        }\n      } else if (mml.isKind('mrow')) {\n        mml.parent.replaceChild(mml.childNodes[0], mml);\n        data.removeFromList('mrow', [mml]);\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n}\n\nvar BaseTags = function (_super) {\n  __extends(BaseTags, _super);\n\n  function BaseTags() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return BaseTags;\n}(Tags_js_1.AbstractTags);\n\nexports.BaseTags = BaseTags;\nexports.BaseConfiguration = Configuration_js_1.Configuration.create('base', {\n  handler: {\n    character: ['command', 'special', 'letter', 'digit'],\n    delimiter: ['delimiter'],\n    macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n    environment: ['environment']\n  },\n  fallback: {\n    character: Other,\n    macro: csUndefined,\n    environment: envUndefined\n  },\n  items: (_a = {}, _a[bitem.StartItem.prototype.kind] = bitem.StartItem, _a[bitem.StopItem.prototype.kind] = bitem.StopItem, _a[bitem.OpenItem.prototype.kind] = bitem.OpenItem, _a[bitem.CloseItem.prototype.kind] = bitem.CloseItem, _a[bitem.PrimeItem.prototype.kind] = bitem.PrimeItem, _a[bitem.SubsupItem.prototype.kind] = bitem.SubsupItem, _a[bitem.OverItem.prototype.kind] = bitem.OverItem, _a[bitem.LeftItem.prototype.kind] = bitem.LeftItem, _a[bitem.Middle.prototype.kind] = bitem.Middle, _a[bitem.RightItem.prototype.kind] = bitem.RightItem, _a[bitem.BeginItem.prototype.kind] = bitem.BeginItem, _a[bitem.EndItem.prototype.kind] = bitem.EndItem, _a[bitem.StyleItem.prototype.kind] = bitem.StyleItem, _a[bitem.PositionItem.prototype.kind] = bitem.PositionItem, _a[bitem.CellItem.prototype.kind] = bitem.CellItem, _a[bitem.MmlItem.prototype.kind] = bitem.MmlItem, _a[bitem.FnItem.prototype.kind] = bitem.FnItem, _a[bitem.NotItem.prototype.kind] = bitem.NotItem, _a[bitem.NonscriptItem.prototype.kind] = bitem.NonscriptItem, _a[bitem.DotsItem.prototype.kind] = bitem.DotsItem, _a[bitem.ArrayItem.prototype.kind] = bitem.ArrayItem, _a[bitem.EqnArrayItem.prototype.kind] = bitem.EqnArrayItem, _a[bitem.EquationItem.prototype.kind] = bitem.EquationItem, _a),\n  options: {\n    maxMacros: 1000,\n    baseURL: typeof document === 'undefined' || document.getElementsByTagName('base').length === 0 ? '' : String(document.location).replace(/#.*$/, '')\n  },\n  tags: {\n    base: BaseTags\n  },\n  postprocessors: [[filterNonscript, -4]]\n});","map":{"version":3,"sources":["/Users/sam/Desktop/projects/Binomial_expansion/Web/binomial/node_modules/mathjax-full/ts/input/tex/base/BaseConfiguration.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,IAAA,kBAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AAEA,IAAA,cAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,OAAA,CAAA,mBAAA,CAAA;;AACA,IAAA,uBAAA,GAAA,OAAA,CAAA,6CAAA,CAAA;;AAOA,IAAI,cAAA,CAAA,YAAJ,CAAiB,OAAjB,EAA0B,IAA1B,EAAgC;AAC9B,OAAO,QADuB;AAE9B,OAAO,QAFuB;AAG9B,OAAO;AAHuB,CAAhC;;AAYA,SAAgB,KAAhB,CAAsB,MAAtB,EAAyC,IAAzC,EAAqD;AACnD,MAAM,IAAI,GAAG,MAAM,CAAC,KAAP,CAAa,GAAb,CAAiB,MAAjB,CAAb;AACA,MAAI,GAAG,GAAG,IAAI,GAEZ;AAAC,IAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,GAAb,CAAiB,MAAjB;AAAd,GAFY,GAE8B,EAF5C;AAGA,MAAM,KAAK,GAAI,eAAA,CAAA,UAAA,CAAW,MAAX,CAAkB,OAAlB,EAA4C,MAA5C,CAAmD,IAAnD,CAAf;AACA,MAAM,KAAK,GAAG,uBAAA,CAAA,QAAA,CAAS,IAAT,CAAd;AACA,MAAM,IAAI,GAAI,KAAK,GAAG,KAAK,CAAC,CAAD,CAAR,GAAc,IAAjC;AAGA,MAAI,EAAE,GAAG,MAAM,CAAC,MAAP,CAAc,OAAd,EAAuB,IAAvB,EAA6B,GAA7B,EAAmC,KAAK,GAAG,KAAK,CAAC,IAAT,GAAgB,IAAxD,CAAT;;AACA,MAAI,IAAI,KAAK,IAAb,EAAmB;AACjB,IAAA,aAAA,CAAA,OAAA,CAAS,WAAT,CAAqB,EAArB,EAAyB,aAAzB,EAAwC,IAAxC;AACA,IAAA,MAAM,CAAC,aAAP,CAAqB,OAArB,CAA6B,aAA7B,EAA4C,EAA5C;AACD;;AACD,EAAA,MAAM,CAAC,IAAP,CAAY,EAAZ;AACD;;AAhBD,OAAA,CAAA,KAAA,GAAA,KAAA;;AAwBA,SAAS,WAAT,CAAqB,OAArB,EAAyC,IAAzC,EAAqD;AAEnD,QAAM,IAAI,aAAA,CAAA,OAAJ,CAAa,0BAAb,EACc,+BADd,EAC+C,OAAO,IADtD,CAAN;AAED;;AAQD,SAAS,YAAT,CAAsB,OAAtB,EAA0C,GAA1C,EAAqD;AAEnD,QAAM,IAAI,aAAA,CAAA,OAAJ,CAAa,YAAb,EAA2B,4BAA3B,EAAyD,GAAzD,CAAN;AACD;;AAMD,SAAS,eAAT,CAAyB,EAAzB,EAAqD;;;MAA3B,IAAI,GAAA,EAAA,CAAA,I;;;AAC5B,SAAkB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,OAAL,CAAa,WAAb,CAAA,CAAA,EAAyB,EAAA,GAAA,EAAA,CAAA,IAAA,EAA3C,EAA2C,CAAA,EAAA,CAAA,IAA3C,EAA2C,EAAA,GAAA,EAAA,CAAA,IAAA,EAA3C,EAA6C;AAAxC,UAAM,GAAG,GAAA,EAAA,CAAA,KAAT;;AAKH,UAAI,GAAG,CAAC,UAAJ,CAAe,GAAf,CAAmB,aAAnB,IAAoC,CAAxC,EAA2C;AAKzC,YAAM,QAAM,GAAG,GAAG,CAAC,MAAnB;AACA,QAAA,QAAM,CAAC,UAAP,CAAkB,MAAlB,CAAyB,QAAM,CAAC,UAAP,CAAkB,GAAlB,CAAzB,EAAiD,CAAjD;AACA,QAAA,IAAI,CAAC,cAAL,CAAoB,GAAG,CAAC,IAAxB,EAA8B,CAAC,GAAD,CAA9B;;AAMA,YAAI,GAAG,CAAC,MAAJ,CAAW,MAAX,CAAJ,EAAwB;AACtB,cAAM,MAAM,GAAG,GAAG,CAAC,UAAJ,CAAe,CAAf,CAAf;AACA,UAAA,IAAI,CAAC,cAAL,CAAoB,QAApB,EAA8B,CAAC,MAAD,CAA9B;AACA,UAAA,IAAI,CAAC,cAAL,CAAoB,QAApB,EAA8B,MAAM,CAAC,UAAP,CAAkB,CAAlB,EAAqB,UAAnD;AACD;AACF,OAlBD,MAkBO,IAAI,GAAG,CAAC,MAAJ,CAAW,MAAX,CAAJ,EAAwB;AAK7B,QAAA,GAAG,CAAC,MAAJ,CAAW,YAAX,CAAwB,GAAG,CAAC,UAAJ,CAAe,CAAf,CAAxB,EAA2C,GAA3C;AACA,QAAA,IAAI,CAAC,cAAL,CAAoB,MAApB,EAA4B,CAAC,GAAD,CAA5B;AACD;AACF;;;;;;;;;;;;AACF;;AAOD,IAAA,QAAA,GAAA,UAAA,MAAA,EAAA;AAA8B,EAAA,SAAA,CAAA,QAAA,EAAA,MAAA,CAAA;;AAA9B,WAAA,QAAA,GAAA;;AAA8C;;AAAD,SAAA,QAAA;AAAC,CAA9C,CAA8B,SAAA,CAAA,YAA9B,CAAA;;AAAa,OAAA,CAAA,QAAA,GAAA,QAAA;AAOA,OAAA,CAAA,iBAAA,GAAmC,kBAAA,CAAA,aAAA,CAAc,MAAd,CAC9C,MAD8C,EACrC;AACP,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,EAAiC,OAAjC,CADJ;AAEP,IAAA,SAAS,EAAE,CAAC,WAAD,CAFJ;AAIP,IAAA,KAAK,EAAE,CAAC,WAAD,EAAc,QAAd,EAAwB,aAAxB,EAAuC,aAAvC,EAAsD,WAAtD,CAJA;AAKP,IAAA,WAAW,EAAE,CAAC,aAAD;AALN,GADF;AAQP,EAAA,QAAQ,EAAE;AACR,IAAA,SAAS,EAAE,KADH;AAER,IAAA,KAAK,EAAE,WAFC;AAGR,IAAA,WAAW,EAAE;AAHL,GARH;AAaP,EAAA,KAAK,GAAA,EAAA,GAAA,EAAA,EAEH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SAFrC,EAGH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QAHpC,EAIH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QAJpC,EAKH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SALrC,EAMH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SANrC,EAOH,EAAA,CAAC,KAAK,CAAC,UAAN,CAAiB,SAAjB,CAA2B,IAA5B,CAAA,GAAmC,KAAK,CAAC,UAPtC,EAQH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QARpC,EASH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QATpC,EAUH,EAAA,CAAC,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAxB,CAAA,GAA+B,KAAK,CAAC,MAVlC,EAWH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SAXrC,EAYH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SAZrC,EAaH,EAAA,CAAC,KAAK,CAAC,OAAN,CAAc,SAAd,CAAwB,IAAzB,CAAA,GAAgC,KAAK,CAAC,OAbnC,EAcH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SAdrC,EAeH,EAAA,CAAC,KAAK,CAAC,YAAN,CAAmB,SAAnB,CAA6B,IAA9B,CAAA,GAAqC,KAAK,CAAC,YAfxC,EAgBH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QAhBpC,EAiBH,EAAA,CAAC,KAAK,CAAC,OAAN,CAAc,SAAd,CAAwB,IAAzB,CAAA,GAAgC,KAAK,CAAC,OAjBnC,EAkBH,EAAA,CAAC,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAxB,CAAA,GAA+B,KAAK,CAAC,MAlBlC,EAmBH,EAAA,CAAC,KAAK,CAAC,OAAN,CAAc,SAAd,CAAwB,IAAzB,CAAA,GAAgC,KAAK,CAAC,OAnBnC,EAoBH,EAAA,CAAC,KAAK,CAAC,aAAN,CAAoB,SAApB,CAA8B,IAA/B,CAAA,GAAsC,KAAK,CAAC,aApBzC,EAqBH,EAAA,CAAC,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,IAA1B,CAAA,GAAiC,KAAK,CAAC,QArBpC,EAsBH,EAAA,CAAC,KAAK,CAAC,SAAN,CAAgB,SAAhB,CAA0B,IAA3B,CAAA,GAAkC,KAAK,CAAC,SAtBrC,EAuBH,EAAA,CAAC,KAAK,CAAC,YAAN,CAAmB,SAAnB,CAA6B,IAA9B,CAAA,GAAqC,KAAK,CAAC,YAvBxC,EAwBH,EAAA,CAAC,KAAK,CAAC,YAAN,CAAmB,SAAnB,CAA6B,IAA9B,CAAA,GAAqC,KAAK,CAAC,YAxBxC,EAyBJ,EAzBI,CAbE;AAuCP,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,EAAE,IADJ;AAEP,IAAA,OAAO,EAAG,OAAO,QAAP,KAAqB,WAArB,IACA,QAAQ,CAAC,oBAAT,CAA8B,MAA9B,EAAsC,MAAtC,KAAiD,CADlD,GAEC,EAFD,GAEM,MAAM,CAAC,QAAQ,CAAC,QAAV,CAAN,CAA0B,OAA1B,CAAkC,MAAlC,EAA0C,EAA1C;AAJR,GAvCF;AA6CP,EAAA,IAAI,EAAE;AACJ,IAAA,IAAI,EAAE;AADF,GA7CC;AAgDP,EAAA,cAAc,EAAE,CAAC,CAAC,eAAD,EAAkB,CAAC,CAAnB,CAAD;AAhDT,CADqC,CAAnC","sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2018-2021 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n/**\n * @fileoverview Configuration for the Base LaTeX parser.\n *\n * @author v.sorge@mathjax.org (Volker Sorge)\n */\n\nimport {Configuration} from '../Configuration.js';\nimport {MapHandler} from '../MapHandler.js';\nimport TexError from '../TexError.js';\nimport NodeUtil from '../NodeUtil.js';\nimport TexParser from '../TexParser.js';\nimport {CharacterMap} from '../SymbolMap.js';\nimport * as bitem from './BaseItems.js';\nimport {AbstractTags} from '../Tags.js';\nimport './BaseMappings.js';\nimport {getRange} from '../../../core/MmlTree/OperatorDictionary.js';\nimport {MmlNode} from '../../../core/MmlTree/MmlNode.js';\nimport ParseOptions from '../ParseOptions.js';\n\n/**\n * Remapping some ASCII characters to their Unicode operator equivalent.\n */\nnew CharacterMap('remap', null, {\n  '-':   '\\u2212',\n  '*':   '\\u2217',\n  '`':   '\\u2018'   // map ` to back quote\n});\n\n\n/**\n * Default handling of characters (as <mo> elements).\n * @param {TexParser} parser The calling parser.\n * @param {string} char The character to parse.\n */\nexport function Other(parser: TexParser, char: string) {\n  const font = parser.stack.env['font'];\n  let def = font ?\n    // @test Other Font\n    {mathvariant: parser.stack.env['font']} : {};\n  const remap = (MapHandler.getMap('remap') as CharacterMap).lookup(char);\n  const range = getRange(char);\n  const type = (range ? range[3] : 'mo');\n  // @test Other\n  // @test Other Remap\n  let mo = parser.create('token', type, def, (remap ? remap.char : char));\n  if (type === 'mo') {\n    NodeUtil.setProperty(mo, 'fixStretchy', true);\n    parser.configuration.addNode('fixStretchy', mo);\n  }\n  parser.Push(mo);\n}\n\n\n/**\n * Handle undefined control sequence.\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nfunction csUndefined(_parser: TexParser, name: string) {\n  // @test Undefined-CS\n  throw new TexError('UndefinedControlSequence',\n                      'Undefined control sequence %1', '\\\\' + name);\n}\n\n\n/**\n * Handle undefined environments.\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nfunction envUndefined(_parser: TexParser, env: string) {\n  // @test Undefined-Env\n  throw new TexError('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\n\n/**\n * Filter for removing spacing following \\nonscript\n * @param{ParseOptions} data The active tex parser.\n */\nfunction filterNonscript({data}: {data: ParseOptions}) {\n  for (const mml of data.getList('nonscript')) {\n    //\n    //  This is the list of mspace elements or mrow > mstyle > mspace\n    //    that followed \\nonscript macros to be tested for removal.\n    //\n    if (mml.attributes.get('scriptlevel') > 0) {\n      //\n      //  The mspace needs to be removed, since we are in a script style.\n      //  Remove it from the DOM and from the list of mspace elements.\n      //\n      const parent = mml.parent;\n      parent.childNodes.splice(parent.childIndex(mml), 1);\n      data.removeFromList(mml.kind, [mml]);\n      //\n      //  If it is an mrow > mstyle > mspace, then we have just\n      //    removed the mrow from its list, and must remove\n      //    the mstyle and mspace from their lists as well.\n      //\n      if (mml.isKind('mrow')) {\n        const mstyle = mml.childNodes[0] as MmlNode;\n        data.removeFromList('mstyle', [mstyle]);\n        data.removeFromList('mspace', mstyle.childNodes[0].childNodes as MmlNode[]);\n      }\n    } else if (mml.isKind('mrow')) {\n      //\n      // This is an mrow > mstyle > mspace  but we're not in a script\n      //   style, so remove the mrow that we had added in the NonscriptItem.\n      //\n      mml.parent.replaceChild(mml.childNodes[0], mml);\n      data.removeFromList('mrow', [mml]);\n    }\n  }\n}\n\n\n/**\n * @constructor\n * @extends {AbstractTags}\n */\nexport class BaseTags extends AbstractTags { }\n\n\n/**\n * The base configuration.\n * @type {Configuration}\n */\nexport const BaseConfiguration: Configuration = Configuration.create(\n  'base',  {\n    handler: {\n      character: ['command', 'special', 'letter', 'digit'],\n      delimiter: ['delimiter'],\n      // Note, that the position of the delimiters here is important!\n      macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n      environment: ['environment']\n    },\n    fallback: {\n      character: Other,\n      macro: csUndefined,\n      environment: envUndefined\n    },\n    items: {\n      // BaseItems\n      [bitem.StartItem.prototype.kind]: bitem.StartItem,\n      [bitem.StopItem.prototype.kind]: bitem.StopItem,\n      [bitem.OpenItem.prototype.kind]: bitem.OpenItem,\n      [bitem.CloseItem.prototype.kind]: bitem.CloseItem,\n      [bitem.PrimeItem.prototype.kind]: bitem.PrimeItem,\n      [bitem.SubsupItem.prototype.kind]: bitem.SubsupItem,\n      [bitem.OverItem.prototype.kind]: bitem.OverItem,\n      [bitem.LeftItem.prototype.kind]: bitem.LeftItem,\n      [bitem.Middle.prototype.kind]: bitem.Middle,\n      [bitem.RightItem.prototype.kind]: bitem.RightItem,\n      [bitem.BeginItem.prototype.kind]: bitem.BeginItem,\n      [bitem.EndItem.prototype.kind]: bitem.EndItem,\n      [bitem.StyleItem.prototype.kind]: bitem.StyleItem,\n      [bitem.PositionItem.prototype.kind]: bitem.PositionItem,\n      [bitem.CellItem.prototype.kind]: bitem.CellItem,\n      [bitem.MmlItem.prototype.kind]: bitem.MmlItem,\n      [bitem.FnItem.prototype.kind]: bitem.FnItem,\n      [bitem.NotItem.prototype.kind]: bitem.NotItem,\n      [bitem.NonscriptItem.prototype.kind]: bitem.NonscriptItem,\n      [bitem.DotsItem.prototype.kind]: bitem.DotsItem,\n      [bitem.ArrayItem.prototype.kind]: bitem.ArrayItem,\n      [bitem.EqnArrayItem.prototype.kind]: bitem.EqnArrayItem,\n      [bitem.EquationItem.prototype.kind]: bitem.EquationItem\n    },\n    options: {\n      maxMacros: 1000,\n      baseURL: (typeof(document) === 'undefined' ||\n                document.getElementsByTagName('base').length === 0) ?\n                '' : String(document.location).replace(/#.*$/, '')\n    },\n    tags: {\n      base: BaseTags\n    },\n    postprocessors: [[filterNonscript, -4]]\n  }\n);\n"]},"metadata":{},"sourceType":"script"}